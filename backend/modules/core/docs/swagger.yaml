basePath: /api/v1/core
definitions:
  Core_authDto.CreateLogRequest:
    properties:
      action:
        type: string
      branch_id:
        type: string
      details:
        description: auto-marshaled to JSONB
      endpoint:
        type: string
      http_method:
        type: string
      resource:
        type: string
      status:
        type: string
      user_id:
        type: string
    required:
    - action
    - endpoint
    - http_method
    - status
    type: object
  Core_authDto.CreateLogResponse:
    properties:
      created_at:
        type: string
      log_id:
        type: integer
    type: object
  Core_authDto.LoginRequest:
    properties:
      email:
        type: string
      password:
        type: string
    required:
    - email
    - password
    type: object
  coreModels.Branch:
    properties:
      address:
        type: string
      created_at:
        type: string
      deleted_at:
        $ref: '#/definitions/gorm.DeletedAt'
      id:
        type: integer
      name:
        description: composite unique with TenantID
        type: string
      tenant:
        $ref: '#/definitions/coreModels.Tenant'
      tenant_id:
        type: integer
      updated_at:
        type: string
      users:
        items:
          $ref: '#/definitions/coreModels.User'
        type: array
    type: object
  coreModels.Module:
    properties:
      created_at:
        type: string
      description:
        type: string
      id:
        type: integer
      name:
        description: เช่น barber_booking
        type: string
    type: object
  coreModels.Role:
    properties:
      created_at:
        type: string
      deleted_at:
        $ref: '#/definitions/gorm.DeletedAt'
      description:
        type: string
      id:
        type: integer
      module:
        $ref: '#/definitions/coreModels.Module'
      module_id:
        type: integer
      name:
        type: string
      tenant:
        $ref: '#/definitions/coreModels.Tenant'
      tenant_id:
        type: integer
      updated_at:
        type: string
    type: object
  coreModels.SystemLog:
    properties:
      action:
        type: string
      branchID:
        description: FK to branches.id
        type: integer
      clientApp:
        type: string
      createdAt:
        type: string
      details:
        items:
          type: integer
        type: array
      endpoint:
        type: string
      httpmethod:
        type: string
      ipaddress:
        type: string
      logID:
        type: integer
      metadata:
        items:
          type: integer
        type: array
      origin:
        type: string
      referer:
        type: string
      resource:
        type: string
      status:
        type: string
      statusCode:
        type: integer
      userAgent:
        type: string
      userID:
        description: FK to users.id
        type: integer
      userRole:
        type: string
      xforwardedFor:
        description: ข้อมูล HTTP headers ที่เกี่ยวข้อง
        type: string
    type: object
  coreModels.Tenant:
    properties:
      created_at:
        type: string
      deleted_at:
        type: string
      domain:
        type: string
      id:
        type: integer
      is_active:
        type: boolean
      name:
        type: string
      updated_at:
        type: string
    type: object
  coreModels.TenantUser:
    properties:
      tenant:
        $ref: '#/definitions/coreModels.Tenant'
      tenant_id:
        type: integer
      user:
        $ref: '#/definitions/coreModels.User'
      user_id:
        type: integer
    type: object
  coreModels.User:
    properties:
      avatar_name:
        type: string
      avatar_url:
        type: string
      branch:
        $ref: '#/definitions/coreModels.Branch'
      branch_id:
        type: integer
      created_at:
        type: string
      deleted_at:
        $ref: '#/definitions/gorm.DeletedAt'
      email:
        type: string
      id:
        type: integer
      role:
        $ref: '#/definitions/coreModels.Role'
      role_id:
        type: integer
      tenant_users:
        items:
          $ref: '#/definitions/coreModels.TenantUser'
        type: array
      updated_at:
        type: string
      username:
        type: string
    type: object
  corePort.ChangeRoleInput:
    properties:
      id:
        type: integer
      role:
        type: string
    required:
    - id
    - role
    type: object
  corePort.CreateBranchInput:
    properties:
      address:
        example: 123 Main St.
        type: string
      name:
        example: My New Store
        type: string
    type: object
  corePort.CreateTenantInput:
    properties:
      domain:
        type: string
      name:
        type: string
    type: object
  corePort.CreateUserInput:
    properties:
      avatarName:
        type: string
      avatarURL:
        type: string
      branchID:
        type: integer
      email:
        type: string
      password:
        minLength: 6
        type: string
      role:
        type: string
      username:
        type: string
    required:
    - email
    - password
    - role
    - username
    type: object
  corePort.RegisterInput:
    properties:
      email:
        type: string
      password:
        minLength: 6
        type: string
      username:
        type: string
    required:
    - email
    - password
    - username
    type: object
  corePort.UpdateBranchInput:
    properties:
      name:
        example: สำนักงานใหญ่ใหม่
        type: string
    type: object
  corePort.UpdateTenantInput:
    properties:
      domain:
        type: string
      id:
        type: integer
      isActive:
        type: boolean
      name:
        type: string
    type: object
  corePort.UserInfoResponse:
    properties:
      avatar_name:
        type: string
      avatar_url:
        type: string
      email:
        type: string
      id:
        type: integer
      role:
        type: string
      role_id:
        type: integer
      username:
        type: string
    type: object
  gorm.DeletedAt:
    properties:
      time:
        type: string
      valid:
        description: Valid is true if Time is not NULL
        type: boolean
    type: object
info:
  contact: {}
  description: API สำหรับโมดูล core
  title: Core API
  version: "1.0"
paths:
  /admin/change_role:
    put:
      consumes:
      - application/json
      description: สำหรับ Super Admin เพื่อเปลี่ยน Role ของผู้ใช้
      parameters:
      - description: ข้อมูลผู้ใช้งาน
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/corePort.ChangeRoleInput'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: เปลี่ยน Role ของผู้ใช้
      tags:
      - Admin
  /admin/create_users:
    post:
      consumes:
      - application/json
      description: ใช้สำหรับ SUPER_ADMIN สร้าง User role อื่น ๆ แต่ไม่สามารถใช้สร้าง
        SUPER_ADMIN ได้
      parameters:
      - description: ข้อมูลผู้ใช้งาน
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/corePort.CreateUserInput'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/coreModels.User'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: สร้างผู้ใช้โดย Super Admin
      tags:
      - User
  /admin/user-by-role:
    get:
      consumes:
      - application/json
      description: ใช้สำหรับ Super Admin เพื่อดึง Users เฉพาะ role ที่ระบุ เช่น STAFF,
        USER, BRANCH_ADMIN
      parameters:
      - description: Role ที่ต้องการกรอง เช่น STAFF, USER, BRANCH_ADMIN, SUPER_ADMIN
        in: query
        name: role
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/corePort.UserInfoResponse'
            type: array
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: ดึงข้อมูลผู้ใช้งานโดยเลือกเฉพาะ role ที่ต้องการ
      tags:
      - Admin
  /admin/users:
    get:
      consumes:
      - application/json
      description: สำหรับ Super Admin ดึง Users ทั้งหมด พร้อม Pagination
      parameters:
      - description: หน้าที่ต้องการ (default 1)
        in: query
        name: page
        type: integer
      - description: จำนวนรายการต่อหน้า (default 10)
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/corePort.UserInfoResponse'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: ดึงข้อมูลผู้ใช้งานทั้งหมด
      tags:
      - Admin
  /auth/register:
    post:
      consumes:
      - application/json
      description: ลงทะเบียนเพื่อ สร้าง Account โดย User เป็นคนสร้างเอง
      parameters:
      - description: ข้อมูลผู้ใช้
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/corePort.RegisterInput'
      produces:
      - application/json
      responses:
        "200":
          description: ลงทะเบียนสำเร็จ
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: ข้อมูลไม่ถูกต้องหรือลงทะเบียนล้มเหลว
          schema:
            additionalProperties:
              type: string
            type: object
      summary: สร้าง Account Role USER
      tags:
      - Auth
  /core/branch/:id:
    get:
      description: ดึงข้อมูลสาขาเดียวตามรหัสสาขาที่ระบุ (ต้องมีสิทธิ์ RolesCanManageBranch)
      parameters:
      - description: รหัสสาขา
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: คืนค่า status และข้อมูลสาขาใน key `data`
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid branch ID หรือ รหัสไม่ถูกต้อง
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: ไม่มีสิทธิ์เข้าถึง
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: ไม่พบสาขาตามรหัสที่ระบุ
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: เกิดข้อผิดพลาดระหว่างดึงข้อมูลสาขา
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: ดึงข้อมูลสาขาตาม ID
      tags:
      - Branch
  /core/branches/all:
    get:
      description: ดึงข้อมูลสาขาทั้งหมดโดยไม่กรองตาม Tenant (ต้องมีสิทธิ์ RolesCanManageBranch)
      produces:
      - application/json
      responses:
        "200":
          description: คืนค่า status และ array ของสาขาใน key `data`
          schema:
            additionalProperties: true
            type: object
        "403":
          description: ไม่มีสิทธิ์เข้าถึง
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: เกิดข้อผิดพลาดระหว่างดึงข้อมูลสาขา
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: ดึงรายการสาขาทั้งหมด
      tags:
      - Branch
  /core/tenant-route:
    get:
      description: ดึงรายการ Tenant โดยสามารถกรองเฉพาะที่ active ได้ผ่าน query parameter
        `active` (default = true)
      parameters:
      - description: กรองเฉพาะ Tenant ที่ active (true/false), default = true
        in: query
        name: active
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: คืนค่า status และ array ของ Tenant ใน key `data`
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid `active` query parameter
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: เกิดข้อผิดพลาดระหว่างดึงรายการ Tenant
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: ดึงรายการ Tenant ทั้งหมด
      tags:
      - Tenant
  /core/tenant-route/:id:
    delete:
      description: ลบ Tenant ที่ระบุด้วยรหัส (ต้องไม่มีการใช้งานอยู่ หรือจะเกิด conflict
        error หากยังมีทรัพยากรภายในใช้ Tenant นี้อยู่)
      parameters:
      - description: รหัส Tenant
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: คืนค่า status และข้อความยืนยันการลบ
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid tenant ID หรือ รหัสไม่ถูกต้อง
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: ไม่พบ Tenant ตามรหัสที่ระบุ
          schema:
            additionalProperties:
              type: string
            type: object
        "409":
          description: ไม่สามารถลบ Tenant ได้ เนื่องจากยังมีการใช้งานภายในระบบ
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: เกิดข้อผิดพลาดระหว่างการลบ Tenant
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: ลบ Tenant ตาม ID
      tags:
      - Tenant
    get:
      description: ดึงรายละเอียดของ Tenant หนึ่งรายการตามรหัสที่ระบุ
      parameters:
      - description: รหัส Tenant
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: คืนค่า status และข้อมูล Tenant ใน key `data`
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid tenant ID หรือ รหัสไม่ถูกต้อง
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: ไม่พบ Tenant ตามรหัสที่ระบุ
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: เกิดข้อผิดพลาดระหว่างดึงข้อมูล Tenant
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: ดึงข้อมูล Tenant ตาม ID
      tags:
      - Tenant
    put:
      consumes:
      - application/json
      description: อัปเดตชื่อ โดเมน หรือสถานะ active ของ Tenant หน่วยตามรหัสที่ระบุ
      parameters:
      - description: รหัส Tenant
        in: path
        name: id
        required: true
        type: integer
      - description: ข้อมูลที่ต้องการอัปเดต (name, domain, isActive)
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/corePort.UpdateTenantInput'
      produces:
      - application/json
      responses:
        "200":
          description: คืนค่า status และข้อความยืนยันการอัปเดต
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid tenant ID หรือ malformed JSON หรือ validation error
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: ไม่พบ Tenant ตามรหัสที่ระบุ
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: เกิดข้อผิดพลาดระหว่างอัปเดต Tenant
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: แก้ไขข้อมูล Tenant ตาม ID
      tags:
      - Tenant
  /core/tenant-route/create:
    post:
      consumes:
      - application/json
      description: สร้าง Tenant ใหม่โดยระบุชื่อ (name) และโดเมน (domain)
      parameters:
      - description: ข้อมูลสำหรับสร้าง Tenant (name, domain)
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/corePort.CreateTenantInput'
      produces:
      - application/json
      responses:
        "201":
          description: คืนค่า status และข้อมูล tenant ที่สร้าง
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Malformed JSON หรือข้อมูลไม่ถูกต้อง
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: เกิดข้อผิดพลาดระหว่างสร้าง tenant
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: สร้าง Tenant ใหม่
      tags:
      - Tenant
  /core/tenant-user/tenants/:tenant_id/users/:user_id:
    delete:
      description: ลบการผูก User ที่ระบุด้วย `user_id` ออกจาก Tenant ที่ระบุด้วย `tenant_id`
      parameters:
      - description: รหัส Tenant
        in: path
        name: tenant_id
        required: true
        type: integer
      - description: รหัส User
        in: path
        name: user_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: คืนค่า status และข้อความยืนยันการลบผู้ใช้
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid tenant ID หรือ Invalid user ID
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Tenant not found หรือ User not found
          schema:
            additionalProperties:
              type: string
            type: object
        "409":
          description: User is not assigned to this tenant
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: เกิดข้อผิดพลาดระหว่างการลบผู้ใช้จาก Tenant
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: นำผู้ใช้ออกจาก Tenant
      tags:
      - TenantUser
    post:
      description: กำหนดให้ User ที่ระบุด้วย `user_id` เข้าใช้งาน Tenant ที่ระบุด้วย
        `tenant_id`
      parameters:
      - description: รหัส Tenant
        in: path
        name: tenant_id
        required: true
        type: integer
      - description: รหัส User
        in: path
        name: user_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "201":
          description: คืนค่า status และข้อความยืนยันการเพิ่มผู้ใช้
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid tenant ID หรือ invalid user ID
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Tenant not found หรือ User not found
          schema:
            additionalProperties:
              type: string
            type: object
        "409":
          description: User already assigned to this tenant
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: เกิดข้อผิดพลาดระหว่างการเพิ่มผู้ใช้งานให้ Tenant
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: เพิ่มผู้ใช้งานให้กับ Tenant
      tags:
      - TenantUser
  /core/tenant-user/user/:user_id:
    get:
      description: ดึงรายการ Tenant ที่ User ระบุเข้าใช้งานได้ (user_id มาจาก path)
      parameters:
      - description: รหัส User
        in: path
        name: user_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: คืนค่า status และ array ของ Tenant ใน key `data`
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid user ID
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: User not found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: เกิดข้อผิดพลาดระหว่างดึงรายการ Tenant
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: ดึงรายการ Tenant ของ User
      tags:
      - TenantUser
  /core/tenants/:tenant_id/branches:
    get:
      description: ดึงข้อมูลสาขาทั้งหมดเฉพาะสำหรับ Tenant ที่ผู้ใช้ล็อกอินอยู่ (tenant_id
        มาจาก context หลังตรวจสอบ token)
      produces:
      - application/json
      responses:
        "200":
          description: คืนค่า status และ array ของสาขาใน key `data`
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Missing or invalid tenant ID หรือ InvalidTenantID
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: ไม่มีสิทธิ์เข้าถึง
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: ไม่พบ Tenant ตามรหัสที่ระบุ
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: เกิดข้อผิดพลาดระหว่างดึงข้อมูลสาขา
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: ดึงรายการสาขาของ Tenant ปัจจุบัน
      tags:
      - Branch
    post:
      consumes:
      - application/json
      description: ใช้สร้างสาขาย่อยใหม่โดยระบุชื่อสาขาและที่อยู่เท่านั้น ยังไม่มีการเชื่อมโยงกับ
        Tenant
      parameters:
      - description: ข้อมูลสำหรับสร้างสาขา (ชื่อ, ที่อยู่) — tenant_id จะถูกดึงจาก
          context ของผู้ใช้
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/corePort.CreateBranchInput'
      produces:
      - application/json
      responses:
        "201":
          description: คืนค่า status, message และข้อมูลสาขาที่สร้าง
          schema:
            additionalProperties: true
            type: object
        "400":
          description: ข้อมูลส่งมาไม่ถูกต้อง, ขาด tenant ID หรือสาขานี้มีอยู่แล้ว
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: ไม่มีสิทธิ์เข้าถึง
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: สร้างสาขาไม่สำเร็จ
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: สร้างสาขาใหม่ เช็คตัวเชื่อมกับ Tenant
      tags:
      - Branch
  /core/tenants/:tenant_id/branches/:id:
    delete:
      description: ลบสาขาที่ระบุด้วยรหัสสาขา (ต้องมีสิทธิ์ RolesCanManageBranch)
      parameters:
      - description: รหัสสาขา
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: คืนค่า status และข้อความยืนยันการลบ
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid branch ID หรือ รหัสไม่ถูกต้อง
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: ไม่มีสิทธิ์เข้าถึง
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: ไม่พบสาขาตามรหัสที่ระบุ
          schema:
            additionalProperties:
              type: string
            type: object
        "409":
          description: ไม่สามารถลบสาขาได้ เนื่องจากมีการใช้งานอยู่
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: เกิดข้อผิดพลาดระหว่างการลบสาขา
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: ลบสาขาตาม ID
      tags:
      - Branch
    put:
      consumes:
      - application/json
      description: อัปเดตชื่อสาขาที่ระบุด้วยรหัสสาขา (ต้องมีสิทธิ์ RolesCanManageBranch)
      parameters:
      - description: รหัสสาขา
        in: path
        name: id
        required: true
        type: integer
      - description: ข้อมูลที่ต้องการอัปเดต (name)
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/corePort.UpdateBranchInput'
      produces:
      - application/json
      responses:
        "200":
          description: คืนค่า status และข้อมูลสาขาที่อัปเดต
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid branch ID, malformed JSON, หรือ validation error
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: ไม่มีสิทธิ์เข้าถึง
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: ไม่พบสาขาตามรหัสที่ระบุ
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: เกิดข้อผิดพลาดระหว่างอัปเดตสาขา
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: แก้ไขชื่อสาขาตาม ID
      tags:
      - Branch
  /login:
    post:
      consumes:
      - application/json
      description: Authenticates a user with email & password, issues a JWT cookie,
        and logs the attempt.
      parameters:
      - description: Login credentials (email & password)
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/Core_authDto.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Returns the authenticated user object
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid input
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized – wrong credentials
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: User login
      tags:
      - Auth
  /logs:
    get:
      description: ดึงรายการ System Logs พร้อม pagination และ filter ตาม action, endpoint,
        status, ช่วงเวลา `from`–`to` (RFC3339)
      parameters:
      - default: 1
        description: หน้า (default = 1)
        in: query
        name: page
        type: integer
      - default: 20
        description: จำนวนต่อหน้า (default = 20)
        in: query
        name: limit
        type: integer
      - description: กรองตาม action
        in: query
        name: action
        type: string
      - description: กรองตาม endpoint
        in: query
        name: endpoint
        type: string
      - description: กรองตาม status
        in: query
        name: status
        type: string
      - description: วันที่เริ่มต้น (RFC3339)
        in: query
        name: from
        type: string
      - description: วันที่สิ้นสุด (RFC3339)
        in: query
        name: to
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: คืนค่า total และ logs[]
          schema:
            additionalProperties: true
            type: object
        "500":
          description: เกิดข้อผิดพลาดระหว่างดึง System Logs
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: ดึงประวัติระบบ (System Logs)
      tags:
      - Log
  /none:
    get:
      description: ดึงข้อมูล System Log รายการเดียวตามรหัส `log_id`
      parameters:
      - description: รหัส Log
        in: path
        name: log_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: คืนค่า SystemLog object
          schema:
            $ref: '#/definitions/coreModels.SystemLog'
        "400":
          description: invalid log_id
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: log not found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: เกิดข้อผิดพลาดระหว่างดึง Log
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: ดึง System Log ตาม ID
      tags:
      - Log
    post:
      consumes:
      - application/json
      description: รับข้อมูล Log (action, resource, status, HTTPMethod, endpoint,
        optional user_id, branch_id, details) แล้วบันทึกลงระบบ
      parameters:
      - description: ข้อมูลสำหรับสร้าง Log Entry
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/Core_authDto.CreateLogRequest'
      produces:
      - application/json
      responses:
        "201":
          description: คืนค่า LogID และ CreatedAt ของ Log ที่สร้าง
          schema:
            $ref: '#/definitions/Core_authDto.CreateLogResponse'
        "400":
          description: Invalid input หรือ invalid details format
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: เกิดข้อผิดพลาดระหว่างการสร้าง Log
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: สร้าง Log Entry
      tags:
      - Log
swagger: "2.0"
